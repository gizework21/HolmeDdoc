"use strict";(self.webpackChunkholmeddoc_patient=self.webpackChunkholmeddoc_patient||[]).push([[199],{3815:function(e,a,r){var t=r(1413),s=r(9439),n=r(7313),l=r(9267),o=r(6417),i=n.forwardRef((function(e,a){var r,i=(0,n.useState)(""),u=(0,s.Z)(i,2),c=(u[0],u[1],(0,n.useRef)(a),"");e.fullWidth&&(c="w-full lg:w-[95%]");var d="";d=e.errorMessage?"border-red-500":"border-green";var f=e.disableInput?{borderColor:"gray"}:null;return(0,o.jsxs)("div",{className:"flex flex-col items-start font-basic-sans-regular  ".concat(c),children:[(0,o.jsx)("label",{className:"text-gray-400 text-xs font-sharp-sans-semibold pb-1",children:e.label}),(0,o.jsxs)("div",{className:"relative w-full",children:[(0,o.jsx)("input",(0,t.Z)((0,t.Z)({type:null!==(r=e.type)&&void 0!==r?r:"number"},e.isValidationSet?(0,t.Z)({},e.register(e.name,(0,t.Z)({},e.schema))):null),{},{defaultValue:e.displayValue,disabled:e.disableInput,placeholder:e.placeholder||"",style:f,className:"h-[43px] w-full rounded-md border p-2 pl-7 text-gray-800 \n          font-basic-sans-regular text-sm px-2 outline-none ".concat(d," placeholder:text-gray-300 bg-white")})),(0,o.jsx)("div",{className:"absolute left-1 top-[0.7rem] w-3 pl-2  h-full text-sm",children:e.extension||"+1"})]}),(0,o.jsx)(l.Z,{errorMessage:e.errorMessage})]})}));a.Z=i},2199:function(e,a,r){r.r(a);var t=r(4165),s=r(7762),n=r(5861),l=r(9439),o=r(7313),i=r(9651),u=r(3815),c=r(3608),d=r(8467),f=r(5627),p=r(2021),h=r(5554),m=r(1006),g=r(4109),v=r(2669),x=r(2599),b=r(6417);a.default=function(){var e,a,r=(0,d.s0)(),w=(0,h.I0)(),y=(0,f.cI)(),Z=y.register,j=y.handleSubmit,k=y.watch,S=y.formState.errors,N=(0,h.v9)((function(e){var a;return null===(a=e.auth.currentUser)||void 0===a?void 0:a.remember_token})),X=(0,o.useState)(!1),L=(0,l.Z)(X,2),M=L[0],C=L[1],I=(0,x.Ds)().enqueueSnackbar,V=(0,h.v9)((function(e){return e.auth.userName}));console.log("\ud83d\ude80 ~ file: Login.jsx:30 ~ Login ~ name:",V),(0,o.useEffect)((function(){N&&r(v.SK)}),[N,r]);var _=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(a){var n,l,o,i,u,c,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=2;break}return e.abrupt("return");case 2:C(!0),e.prev=3,(n=new FormData).append("phone",a.phone),n.append("password",a.password),l=(0,s.Z)(n.entries());try{for(l.s();!(o=l.n()).done;)o.value}catch(t){l.e(t)}finally{l.f()}return e.next=11,m.Z.post("/patient/login",n);case 11:(i=e.sent).data.success?(w((0,g.zB)(null===(u=i.data.data)||void 0===u?void 0:u.result)),w((0,g.b4)(null===(c=i.data.data)||void 0===c||null===(d=c.result)||void 0===d?void 0:d.patient_first_name)),r(v.SK)):I(i.data.message,{variant:"error"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),I(e.t0.message,{variant:"error"});case 19:C(!1);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(a){return e.apply(this,arguments)}}();return(0,b.jsx)(i.Z,{formTitle:"Login",formSubTitle:"We care for your body. It's the only place you have to live in.",rBtnText:"Login",isLoading:M,image:"bg-loginForm",loginPage:!0,lBtnText:(0,b.jsxs)("p",{className:"font-thin font-basic-sans-regular tracking-[1px] h-[1rem]",children:["Don't have an account?"," ",(0,b.jsx)("button",{onClick:function(){return r("/register")},className:"font-semibold font-basic-sans-regular tracking-[1px]",children:"Signup"})]}),nextStep:j(_),children:(0,b.jsxs)("div",{className:"flex flex-col space-y-2 w-full",children:[(0,b.jsx)(u.Z,{label:"Mobile Number",placeholder:"XXXX XXXX XXXX",focusOnLoad:!0,fullWidth:!0,isValidationSet:!0,register:Z,name:"phone",schema:p.dm.phone,errorMessage:null===(e=S.phone)||void 0===e?void 0:e.message}),(0,b.jsx)(c.Z,{label:"Password",fullWidth:!0,placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",isValidationSet:!0,register:Z,name:"password",value:k("password"),schema:p.dm.password,errorMessage:null===(a=S.password)||void 0===a?void 0:a.message}),(0,b.jsx)("div",{className:"w-full lg:w-[95%] pb-3",children:(0,b.jsx)("button",{onClick:function(){return r("/forgotPassword")},className:"-mt-1.5 md:-mt-6 float-right underline font-thin font-basic-sans-regular text-gray-700 text-size-4",children:"Forgot your Password?"})})]})})}}}]);